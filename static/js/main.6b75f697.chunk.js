(this.webpackJsonpphone_book=this.webpackJsonpphone_book||[]).push([[0],{162:function(e,t,n){},163:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),i=n(43),s=n.n(i),r=n(18),a=n(21),l=n(8),j=n(88),u=n(9),d=n(208),b="LOG_IN",h="LOG_OUT",O="GET_PHONES",p={isLogged:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{isLogged:!0});case h:return Object(u.a)(Object(u.a)({},e),{},{isLogged:!1});default:return e}},v={phones:[]},m=Object(l.combineReducers)({logUser:g,setPhones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(u.a)(Object(u.a)({},e),{},{phones:t.payload});default:return e}},form:d.a}),f=Object(l.createStore)(m,Object(j.composeWithDevTools)(Object(l.applyMiddleware)())),x=(n(162),n(163),n(7)),L=n(45),S="current user",y=function(){return!!localStorage.getItem(S)},w=n(2),k=function(e){var t=e.component,n=e.restricted,o=Object(L.a)(e,["component","restricted"]);f.getState();return Object(w.jsx)(x.b,Object(u.a)(Object(u.a)({},o),{},{render:function(e){return y()&&n?Object(w.jsx)(x.a,{to:"/"}):Object(w.jsx)(t,Object(u.a)({},e))}}))},I=function(e){var t,n,o=e.component,c=e.phones,i=Object(L.a)(e,["component","phones"]),s=f.getState();return console.log("PrivateRoute",null===s||void 0===s||null===(t=s.form.fieldLevelValidation)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.email),console.log("state.logUser.isLogged",s.logUser.isLogged),Object(w.jsx)(x.b,Object(u.a)(Object(u.a)({},i),{},{render:function(e){return s.logUser.isLogged?Object(w.jsx)(o,Object(u.a)({phones:c},e)):Object(w.jsx)(x.a,{to:"/login"})}}))},P=n(207),U=n(206),C=function(e){return e?void 0:"Please provide us your data"},N=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},_=function(e){return e.length<8?"Needs at least 8 symbols":void 0},E=function(e){return-1===e.search(/[A-Z]/)?"Must contain at least 1 capital letter":void 0},A=function(e){return-1===e.search(/[a-z]/)?"Must contain at least 1 small letter":void 0},G=function(e){return-1===e.search(/[0-9]/)?"Must contain at least 1 digit":void 0},M=function(e){var t=e.input,n=e.label,o=e.type,c=e.meta,i=c.touched,s=c.error,r=c.warning;return Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{children:n}),Object(w.jsxs)("div",{children:[Object(w.jsx)("input",Object(u.a)(Object(u.a)({},t),{},{placeholder:n,type:o})),i&&(s&&Object(w.jsx)("span",{children:s})||r&&Object(w.jsx)("span",{children:r}))]})]})},T=Object(U.a)({form:"fieldLevelValidation"})((function(e){var t=e.history,n=e.handleSubmit,o=e.reset,c=(e.onSubmit,f.getState());return Object(w.jsxs)("form",{onSubmit:n((function(){var n,o;e.dispatch({type:b}),console.log(f.getState()),function(e){localStorage.setItem(S,e)}(null===(n=c.form.fieldLevelValidation)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.email),t.push("/")})),children:[Object(w.jsx)(P.a,{name:"email",type:"text",component:M,label:"Email",validate:[C,N]}),Object(w.jsx)(P.a,{name:"password",type:"password",component:M,label:"Password",validate:[C,_,E,A,G]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{type:"submit",children:"Submit"}),Object(w.jsx)("button",{type:"button",onClick:o,children:"Clear Values"})]})]})})),F=function(e){var t=e.phones;return Object(o.useEffect)((function(){}),[]),Object(w.jsx)("main",{className:"main",children:Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e,n){var o,c,i=e.id,s=e.name,r=e.phone;return(null===(o=t[n-1])||void 0===o?void 0:o.name.last.slice(0,1))!==(null===(c=t[n])||void 0===c?void 0:c.name.last.slice(0,1))?Object(w.jsxs)("li",{className:"withSeparator",children:[Object(w.jsxs)("p",{children:[t[n].name.last.slice(0,1)," "]}),Object(w.jsx)("ul",{className:"firstInRow",children:Object(w.jsxs)("li",{children:[s.last," ",s.first,", phone: ",r]})})]},i):Object(w.jsxs)("li",{children:[s.last," ",s.first,", phone: ",r]},i)}))}),Object(w.jsx)(r.b,{to:"/home",children:"Go home"})]})})},V=n(90),Z=n(91),R=n(93),B=n(92),D=function(e){Object(R.a)(n,e);var t=Object(B.a)(n);function n(e){var o;return Object(V.a)(this,n),(o=t.call(this,e)).handleLogout=function(){localStorage.removeItem(S),o.setState({isLogin:!1})},o}return Object(Z.a)(n,[{key:"render",value:function(){var e=f.getState();return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Home"}),e.logUser.isLogged||y()?Object(w.jsx)("button",{children:"Click here to log out"}):Object(w.jsx)(r.b,{to:"/login",children:"Go to sign in page"})]})}}]),n}(o.Component),H=Object(a.b)((function(e){return console.log("App",e),{phones:e.setPhones.phones,isLogged:e.logUser.isLogged,form:e.form}}),(function(e){return{onLogUser:function(){return e(g())}}}))((function(e,t){var n=e.phones;return Object(o.useEffect)((function(){console.log(t)}),[]),Object(w.jsxs)(x.d,{children:[Object(w.jsx)(k,{restricted:!1,component:D,path:"/home",exact:!0}),Object(w.jsx)(k,{restricted:!0,component:T,path:"/login",exact:!0}),Object(w.jsx)(I,{component:F,path:"/",exact:!0,phones:n}),Object(w.jsx)(x.a,{path:"/phone_book",to:"/login"})]})})),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),o(e),c(e),i(e),s(e)}))};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(r.a,{children:Object(w.jsx)(a.a,{store:f,children:Object(w.jsx)(H,{})})})}),document.getElementById("root")),J()}},[[205,1,2]]]);
//# sourceMappingURL=main.6b75f697.chunk.js.map