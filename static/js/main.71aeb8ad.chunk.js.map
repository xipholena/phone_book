{"version":3,"sources":["utils/index.js","components/PublicRoute.js","components/PrivateRoute.js","components/SignIn.js","components/Book.js","components/Home.js","containers/App.tsx","reportWebVitals.ts","index.tsx"],"names":["TOKEN_KEY","isLogin","localStorage","getItem","PublicRoute","Component","component","restricted","rest","render","props","to","PrivateRoute","phones","getPhonesHandler","SignIn","handleLogin","setItem","history","push","useEffect","console","log","onClick","Book","className","map","id","name","phone","last","first","Home","handleLogout","removeItem","setState","state","this","App","useState","setPhones","useHistory","a","fetch","headers","then","response","json","data","catch","e","toString","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71aeb8ad.chunk.js","sourcesContent":["const TOKEN_KEY = 'jwt';\n\nexport const login = () => {\n    localStorage.setItem(TOKEN_KEY, 'TestLogin');\n}\n\nexport const logout = () => {\n    localStorage.removeItem(TOKEN_KEY);\n}\n\nexport const isLogin = () => {\n    if (localStorage.getItem(TOKEN_KEY)) {\n        return true;\n    }\n\n    return false;\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isLogin } from '../utils';\n\nconst PublicRoute = ({component: Component, restricted, ...rest}) => {\n    return (\n        <Route {...rest} render={props => (\n            isLogin() && restricted ?\n                <Redirect to=\"/dashboard\" />\n                : <Component {...props} />\n        )} />\n    );\n};\n\nexport default PublicRoute;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isLogin } from '../utils';\n\nconst PrivateRoute = ({component: Component, phones, getPhonesHandler, ...rest}) => {\n    return (\n\n        // Show the component only when the user is logged in\n        // Otherwise, redirect the user to /signin page\n        <Route {...rest} render={props => (\n            isLogin() ?\n                <Component phones={phones} getPhonesHandler={getPhonesHandler} {...props} />\n                : <Redirect to=\"/signin\" />\n        )} />\n    );\n};\n\nexport default PrivateRoute;","import React, {useEffect} from 'react';\nimport { login } from '../utils';\n\nconst SignIn = (props) => {\n\n    const handleLogin = () => {\n        login();\n        props.history.push('/dashboard');\n    }\n\n    useEffect(() => {\n        console.log(props)\n    }, [])\n    return (\n        <div>\n            <h1>Sign in</h1>\n            <button onClick={() => handleLogin()}>Click here to log in</button>\n        </div>\n    );\n};\n\nexport default SignIn;","import React, {useEffect} from 'react';\nimport {IPerson} from \"../containers/App\";\n\nconst Book = ({phones, getPhonesHandler}) => {\n    useEffect(() => {\n        getPhonesHandler();\n    }, [])\n\n    return (\n        <main className=\"main\">\n            <div className=\"container\">\n                <ul>\n                    {phones?.map(({id, name, phone}/*: IPerson*/) => (\n                        <li key={id}>\n                            {name.last} {name.first}, phone: {phone}\n                        </li>\n                    ))}\n                </ul>\n            </div>\n\n        </main>\n    );\n};\n\nexport default Book;\n","import React, { Component } from 'react';\nimport { logout, isLogin } from '../utils';\nimport { Link } from 'react-router-dom';\n\nclass Home extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLogin: isLogin()\n        }\n\n    }\n\n    handleLogout = () => {\n        logout();\n        this.setState({\n            isLogin: false\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>Home</h1>\n\n                {this.state.isLogin ?\n                    <button onClick={() => this.handleLogout()}>Click here to log out</button>\n                    : <Link to=\"/signin\">Go to sign in page</Link>\n                }\n            </div>\n        );\n    }\n}\n\nexport default Home;","import React, {useState, useEffect, FC} from 'react';\nimport './App.css';\nimport {useHistory, Switch, Redirect, Route} from 'react-router-dom';\n\nimport PublicRoute from \"../components/PublicRoute\";\nimport PrivateRoute from \"../components/PrivateRoute\";\nimport SignIn from \"../components/SignIn\";\nimport Book from \"../components/Book\";\nimport Home from \"../components/Home\";\ninterface IName {\n    first: string,\n    last: string\n}\n\nexport interface IPerson {\n    id: string,\n    isActive: boolean,\n    age?: number,\n    name: IName,\n    company?: string,\n    email?: string,\n    phone: string,\n    address?: string,\n    registered: string\n}\n\nconst App: FC = (): React.ReactElement => {\n    const [phones, setPhones] = useState<Array<IPerson>>([]);\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const history = useHistory();\n\n   async function getPhonesHandler(){\n       return fetch('http://localhost:3000/phones.json', {\n           headers: {\n               'Content-Type': 'application/json',\n               'Accept': 'application/json',\n           }\n       })\n           .then((response) => response.json())\n           .then((data) => setPhones(data.phones))\n           .catch((e) => {\n               console.log(e.toString())\n           })\n   }\n    useEffect(() => {\n        /*getPhonesHandler();*/\n    }, [])\n\n\n    return (\n        <Switch>\n            <PublicRoute  restricted={false} component={Home} path=\"/\" exact />\n            <PublicRoute restricted={true} component={SignIn} path=\"/signin\" exact />\n            <PrivateRoute component={Book} path=\"/dashboard\"\n                          phones={phones} getPhonesHandler={getPhonesHandler}\n                          exact />\n        </Switch>\n\n    );\n\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './containers/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root') as HTMLElement\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}