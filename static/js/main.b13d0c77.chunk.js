(this.webpackJsonpphone_book=this.webpackJsonpphone_book||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n.n(o),i=n(41),c=n.n(i),a=n(17),r=n(19),l=n(6),d=n(87),j=n(8),h="LOG_IN",u="LOG_OUT",b="GET_PHONES",p={isLogged:!1,phones:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.isLogged,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)(Object(j.a)({},e),{},{isLogged:!0});case u:return Object(j.a)(Object(j.a)({},e),{},{isLogged:!1});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.phones,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)(Object(j.a)({},e),{},{phones:t.payload});default:return e}},m=Object(l.combineReducers)({logUser:O,setPhones:g}),x=Object(l.createStore)(m,p,Object(d.composeWithDevTools)(Object(l.applyMiddleware)())),f=(n(100),n(101),n(5)),v=n(43),F="jwt",w=function(){return!!localStorage.getItem(F)},L=n(2),P=function(e){var t=e.component,n=e.restricted,o=Object(v.a)(e,["component","restricted"]);return Object(L.jsx)(f.b,Object(j.a)(Object(j.a)({},o),{},{render:function(e){return w()&&n?Object(L.jsx)(f.a,{to:"/dashboard"}):Object(L.jsx)(t,Object(j.a)({},e))}}))},S=function(e){var t=e.component,n=e.phones,o=e.getPhonesHandler,s=Object(v.a)(e,["component","phones","getPhonesHandler"]);return Object(L.jsx)(f.b,Object(j.a)(Object(j.a)({},s),{},{render:function(e){return w()?Object(L.jsx)(t,Object(j.a)({phones:n,getPhonesHandler:o},e)):Object(L.jsx)(f.a,{to:"/login"})}}))},k=n(206),y=n(205),I=function(e){e.routeProps,e.inputEmailValidator;return Object(L.jsxs)("div",{children:[Object(L.jsx)("h1",{children:"Sign in"}),Object(L.jsxs)("form",{children:[" ",Object(L.jsx)(k.a,{name:"emailField",type:"text",component:"input"}),Object(L.jsx)(k.a,{name:"passwordField",type:"text",component:"input"}),Object(L.jsx)("button",{children:"Click here to log in"})]})]})},C=(Object(y.a)({form:"signIn",initialValues:{emailField:"",passwordField:""},onSubmit:function(e){var t={};e.emailField?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.emailField)||(t.emailField="Invalid email address"):t.emailField="Email Required",e.passwordField?e.passwordField.length<8?t.passwordField="Needs at least 8 symbools":-1===e.passwordField.search(/[A-Z]/)?t.passwordField="Must contain at least 1 capital letter":-1===e.passwordField.search(/[a-z]/)?t.passwordField="Must contain at least 1 small letter":-1===e.passwordField.search(/[0-9]/)&&(t.passwordField="Must contain at least 1 digit"):t.passwordField="Password Required"}}),function(e){var t=e.phones,n=e.getPhonesHandler;return Object(o.useEffect)((function(){n()}),[]),Object(L.jsx)("main",{className:"main",children:Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e,n){var o,s,i=e.id,c=e.name,a=e.phone;return(null===(o=t[n-1])||void 0===o?void 0:o.name.last.slice(0,1))!==(null===(s=t[n])||void 0===s?void 0:s.name.last.slice(0,1))?Object(L.jsxs)("li",{className:"withSeparator",children:[Object(L.jsxs)("p",{children:[t[n].name.last.slice(0,1)," "]}),Object(L.jsx)("ul",{className:"firstInRow",children:Object(L.jsxs)("li",{children:[c.last," ",c.first,", phone: ",a]})})]},i):Object(L.jsxs)("li",{children:[c.last," ",c.first,", phone: ",a]},i)}))}),Object(L.jsx)(a.b,{to:"/home",children:"Go home"})]})})}),H=n(89),N=n(90),_=n(92),E=n(91),G=function(e){Object(_.a)(n,e);var t=Object(E.a)(n);function n(e){var o;return Object(H.a)(this,n),(o=t.call(this,e)).handleLogout=function(){localStorage.removeItem(F),o.setState({isLogin:!1})},o.state={isLogin:w()},o}return Object(N.a)(n,[{key:"render",value:function(){var e=this;return Object(L.jsxs)("div",{children:[Object(L.jsx)("h1",{children:"Home"}),this.state.isLogin?Object(L.jsx)("button",{onClick:function(){return e.handleLogout()},children:"Click here to log out"}):Object(L.jsx)(a.b,{to:"/login",children:"Go to sign in page"})]})}}]),n}(o.Component),M=Object(r.b)((function(e){return{phones:e.phones,isLogged:e.isLogged}}),(function(e){return{onLogUser:function(){return e(O())},onSetPhones:function(){return e(g())}}}))((function(e,t){var n=e.phones;return Object(L.jsxs)(f.d,{children:[Object(L.jsx)(P,{restricted:!1,component:G,path:"/home",exact:!0}),Object(L.jsx)(P,{restricted:!0,component:I,path:"/login",exact:!0}),Object(L.jsx)(S,{component:C,path:"/",exact:!0,phones:n,getPhonesHandler:t}),Object(L.jsx)(f.a,{path:"/phone_book",to:"/login"})]})})),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,207)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),o(e),s(e),i(e),c(e)}))};c.a.render(Object(L.jsx)(s.a.StrictMode,{children:Object(L.jsxs)(a.a,{children:[Object(L.jsx)(r.a,{store:x,children:Object(L.jsx)(M,{})}),","]})}),document.getElementById("root")),T()}},[[203,1,2]]]);
//# sourceMappingURL=main.b13d0c77.chunk.js.map