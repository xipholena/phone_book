{"version":3,"sources":["constants.ts","reducers.ts","sagas.ts","store.js","components/PublicRoute.tsx","components/PrivateRoute.tsx","actions.ts","utils/index.ts","components/SignIn.tsx","components/Book.tsx","containers/Home.tsx","containers/App.tsx","reportWebVitals.ts","index.tsx"],"names":["LOG_IN","LOG_OUT","ROUTES","GET_USERS_REQUESTED","GET_USERS_SUCCESS","GET_USERS_FAILED","initialStateLogUser","isLogged","initialStateFetch","users","loading","error","rootReducer","combineReducers","logUser","state","action","type","message","fetchUsers","userSaga","rootSaga","getPhones","fetch","headers","Accept","then","response","json","data","catch","e","console","log","toString","call","put","takeEvery","all","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","logger","run","PublicRoute","Component","component","restricted","rest","useSelector","render","props","to","pathname","PrivateRoute","logIn","payload","TOKEN_KEY","SignIn","history","useHistory","useForm","register","handleSubmit","watch","errors","formState","emailValue","dispatch","useDispatch","onSubmit","email","localStorage","setItem","push","className","validate","required","value","length","isCorrect","test","capital","search","small","digits","password","Book","phones","sort","a","b","name","last","localeCompare","useEffect","map","i","id","phone","slice","first","Home","handleLogout","removeItem","onClick","connect","form","getItem","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d40a8436.chunk.js","sourcesContent":["export const LOG_IN = 'LOG_IN';\nexport const LOG_OUT = 'LOG_OUT';\nexport const GET_PHONES = 'GET_PHONES';\n\nexport const ROUTES = {\n    main: '/',\n    home: '/home',\n    login: '/login',\n    projectName: '/phone_book' // webstorm adds it\n}\n\nexport const GET_USERS_REQUESTED = 'GET_USERS_REQUESTED';\nexport const GET_USERS_SUCCESS = 'GET_USERS_SUCCESS';\nexport const GET_USERS_FAILED = 'GET_USERS_FAILED';","import { combineReducers } from 'redux';\nimport { LOG_IN, LOG_OUT, GET_PHONES } from './constants';\nimport {GET_USERS_REQUESTED, GET_USERS_SUCCESS, GET_USERS_FAILED} from \"./constants\";\nimport {IPerson} from \"./containers/App\";\nexport const initialStateLogUser = {\n  isLogged: false,\n};\n\ntype LogUserArgsType = {\n  type: typeof LOG_IN | typeof LOG_OUT\n}\n\ntype UsersArgsType = {\n  type: typeof GET_USERS_SUCCESS | typeof GET_USERS_FAILED,\n  users?: Array<IPerson>,\n  message: string,\n}\n\ntype LogUserReturnType = {\n  isLogged?: boolean,\n}\ntype UsersReturnType = {\n  loading?: boolean ,\n  users?: Array<IPerson>,\n  error?: string | null,\n}\nexport const logUser = (state = initialStateLogUser, action: LogUserArgsType): LogUserReturnType => {\n  switch (action.type) {\n    case LOG_IN:\n      return {\n        ...state,\n        isLogged: true,\n      };\n    case LOG_OUT:\n      return {\n        ...state,\n        isLogged: false,\n      };\n    default:\n      return state;\n  }\n};\n\nconst initialStateFetch = {\n  users: [],\n  loading: false,\n  error: null,\n}\n\nexport function users(state = initialStateFetch, action: UsersArgsType): UsersReturnType {\n  switch (action.type) {\n    case GET_USERS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        users: action.users\n      }\n    case GET_USERS_FAILED:\n      return {\n        ...state,\n        loading: false,\n        error: action.message,\n      }\n    default:\n      return state\n  }\n}\n\nexport const rootReducer = combineReducers({\n  logUser,\n  users,\n});","import { put, takeEvery, all, call } from 'redux-saga/effects'\nimport {GET_PHONES} from \"./constants\";\nimport {logIn} from \"./actions\";\nimport {loginToStorage} from \"./utils\";\nimport {GET_USERS_FAILED, GET_USERS_REQUESTED, GET_USERS_SUCCESS} from \"./constants\";\nimport {IPerson} from \"./containers/App\";\ntype FetchUserParams = {\n    type: string,\n    users?: Array<IPerson>,\n    message?: string\n}\nconst URL = 'http://localhost:3000/phones.json';\n const getPhones = () => {\n        return fetch(URL, {\n            headers: {\n                'Content-Type': 'application/json',\n                Accept: 'application/json',\n            },\n        })\n            .then(response => response.json())\n            .then(data => data)\n            .catch(e => {\n                console.log(e.toString());\n            });\n};\n\nfunction* fetchUsers(action: FetchUserParams): any {//Since a generator function can technically return a dynamic value depending on how next() is called, Redux-Saga had decided it best to use type any rather than try to infer a type.\n    try {\n        const users = yield call(getPhones);\n        yield put({type: GET_USERS_SUCCESS, users: users}); //put === dispatch(action.type, payload)\n    } catch (e) {\n        yield put({type: GET_USERS_FAILED, message: e.message});\n    }\n}\nfunction* userSaga(): any {\n    yield takeEvery(GET_USERS_REQUESTED, fetchUsers);\n}\n\n\nexport default function* rootSaga(): any {\n    yield all([\n        userSaga() //fetch\n    ])\n}","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport {logger} from \"redux-logger/src\";\nimport { rootReducer} from './reducers';\n\nimport createSagaMiddleware from 'redux-saga'\nimport rootSaga from './sagas'\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(logger, sagaMiddleware)));\n\nsagaMiddleware.run(rootSaga);\n\nexport const sagaAction = type => store.dispatch({type}) //saga\n\nexport default store;\n","import React, {useEffect} from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isInStorage } from '../utils';\nimport {ROUTES} from \"../constants\";\nimport {useSelector} from \"react-redux\";\ntype PublicRouteProps = {\n  component: any;\n  restricted: any;\n  path: string;\n  exact: boolean;\n};\nconst PublicRoute = ({ component: Component, restricted, ...rest }: PublicRouteProps): React.ReactElement => {\n  const state: any = useSelector(state=> state);\n  return (\n    <Route\n      {...rest}\n      render={props => (state.logUser.isLogged && restricted\n          ? <Redirect to={{pathname: ROUTES.main}} />\n          : <Component {...props} />)}\n    />\n  );\n};\n\nexport default PublicRoute;\n","import React, {useEffect} from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport store from \"../store\";\nimport {ROUTES} from '../constants'\nimport {useSelector} from \"react-redux\";\n\ntype PrivateRouteProps = {\n  component: any;\n  path: string;\n  exact: boolean;\n};\n\nconst PrivateRoute = ({\n  component: Component,\n  ...rest\n}: PrivateRouteProps): React.ReactElement => {\n    const state: any = useSelector(state => state);\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n          state.logUser.isLogged ? (\n          <Component  {...props} />\n        ) : (\n          <Redirect to={{pathname: ROUTES.login}} />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;\n\n","import { LOG_IN, LOG_OUT, GET_USERS_REQUESTED } from './constants';\n\ntype LogInType = {\n    type: typeof LOG_IN,\n    payload: boolean,\n}\ntype LogOutType = {\n    type: typeof LOG_OUT,\n}\ntype GetUsersType = {\n    type: typeof GET_USERS_REQUESTED,\n}\ntype ActionsType = LogInType | LogOutType | GetUsersType;\n\nexport const logIn = (): ActionsType => ({ type: LOG_IN, payload: true }); //dispatched in components\n\nexport const logOut = (): ActionsType => ({type: LOG_OUT})\n\nexport const getUsers = (): ActionsType => ({type: GET_USERS_REQUESTED})\n\n","const TOKEN_KEY = 'current user';\n\nexport const loginToStorage = (email: string): void => {\n  localStorage.setItem(TOKEN_KEY, email);\n};\n\nexport const logoutOfStorage = (): void => {\n  localStorage.removeItem(TOKEN_KEY);\n};\n\nexport const isInStorage = (): boolean => {\n  if (localStorage.getItem(TOKEN_KEY)) {\n    return true;\n  }\n\n  return false;\n};\n","import React, {FC, useEffect} from 'react'\nimport store from \"../store\";\n//import {LOG_IN} from \"../constants\";\nimport {logIn} from \"../actions\";\nimport {loginToStorage} from \"../utils\";\nimport {useForm} from \"react-hook-form\";\nimport {ROUTES} from \"../constants\";\nimport {useDispatch} from \"react-redux\";\nimport {useHistory} from \"react-router-dom\"\n\nexport const SignIn:FC = (props: any) => {\n\n    const history = useHistory();\n    const { register, handleSubmit, watch, formState: { errors } } = useForm();\n    const emailValue = watch(\"email\");\n    const dispatch = useDispatch();\n    //was props: RouteComponentProps\n    const handleLogin = () => {\n        dispatch(logIn());\n        loginToStorage(emailValue);\n        history.push(ROUTES.main);\n    }\n    return (\n        <form onSubmit={handleSubmit(handleLogin)} className=\"form\"> {/* your form submit function which will invoke after successful validation*/}\n            {/* register your input into the hook by invoking the \"register\" function */}\n            <input\n                {...register(\"email\", { //name=== errors obj property containing all validation errors for this specific field\n                    validate: {\n                        required: value => value.length || 'This field is required', //so validation need to return false to be passed\n                        isCorrect: value => /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value) || 'Invalid email address'\n                    }\n                })}\n                className=\"form__field\"\n            />\n            {/* errors will return when field validation fails  */}\n            {errors.email && <span>{errors.email?.message}</span>} {/*errors.email?.message - one entity for all possible messages*/}\n            {/* include validation with required or other standard HTML validation rules */}\n            <input\n                {...register(\"password\", {\n                    validate: {\n                        required: value => value.length || 'This field is required',\n                        length: value => value.length > 8 || 'Needs at least 8 symbols',\n                        capital: value => value.search(/[A-Z]/) !== -1 || 'Must contain at least 1 capital letter',\n                        small: value => value.search(/[a-z]/) !== -1 || 'Must contain at least 1 small letter',\n                        digits: value => value.search(/[0-9]/) !== -1 || 'Must contain at least 1 digit',\n                    }\n                })}\n                className=\"form__field\"/>\n            {errors.password && <span>{errors.password?.message}</span>}\n            <input type=\"submit\" className=\"form__button\"/>\n        </form>\n    )\n}\n\n\n\n\n","import React, { useEffect } from 'react';\nimport { IPerson } from '../containers/App';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector} from \"react-redux\";\nimport {getUsers} from \"../actions\";\nimport {ROUTES} from \"../constants\";\n\ninterface BookProps {\n  phones: Array<IPerson>;\n}\n\n\nconst Book = (): React.ReactElement => {\n const dispatch = useDispatch();\n    // @ts-ignore\n const phones = useSelector(state => state.users.users.phones?.sort((a, b) => a.name.last.localeCompare(b.name.last)))\n  // @ts-ignore\n    const users = useSelector(state => state.users.users);\n    // @ts-ignore\n  const loading = useSelector(state => state.users.loading);\n    // @ts-ignore\n  const error = useSelector(state => state.users.error);\n\n  useEffect(() => {\n    dispatch(getUsers());\n  }, [])\n\n\n  return (\n    <main className='main'>\n      <div className='container'>\n          <Link to={{pathname: ROUTES.home}} className='main__link'>Go home</Link>\n        <ul>\n          {phones?.map(({ id, name, phone }: IPerson, i: number) => {\n            if (phones[i - 1]?.name.last.slice(0, 1) !== phones[i]?.name.last.slice(0, 1)) {\n              return (\n                <li key={id} className='withSeparator'>\n                  <p>{phones[i].name.last.slice(0, 1)} </p>\n                  <ul className='firstInRow'>\n                    <li>\n                      {name.last} {name.first}, phone: {phone}\n                    </li>\n                  </ul>\n                </li>\n              );\n            } else {\n              return (\n                <li key={id}>\n                  {name.last} {name.first}, phone: {phone}\n                </li>\n              );\n            }\n          })}\n        </ul>\n      </div>\n    </main>\n  );\n};\n\nexport default Book;\n","import React, {Component, useEffect} from 'react';\nimport { logoutOfStorage,  isInStorage } from '../utils';\nimport { Link} from 'react-router-dom';\nimport store from \"../store\";\n//import {LOG_OUT} from \"../constants\";\nimport {logOut} from \"../actions\";\nimport {ROUTES} from \"../constants\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\n// RouteComponentProps<MatchParams>\nconst Home = () =>  {\n    const dispatch = useDispatch();\n\n  const handleLogout = (): void => {\n    logoutOfStorage();\n    dispatch(logOut());\n  };\n  const state: any = useSelector(state => state);\n  return (\n      <div>\n        <h1>Home</h1>\n        {state.logUser.isLogged ? (\n            <button onClick={() => handleLogout()}>Click here to log out</button>\n        ) : (\n            <Link to={{pathname: ROUTES.login}}>Go to sign in page</Link>\n        )}\n      </div>\n  );\n\n}\n\nexport default Home;\n","import React, {useEffect } from 'react';\nimport './App.css';\nimport { Redirect, Switch } from 'react-router-dom';\nimport {connect, useDispatch, useSelector} from 'react-redux';\nimport PublicRoute from '../components/PublicRoute';\nimport PrivateRoute from '../components/PrivateRoute';\nimport {SignIn} from '../components/SignIn';\nimport {isInStorage} from \"../utils\";\nimport Book from '../components/Book';\nimport Home from './Home';\nimport {ROUTES} from \"../constants\";\nimport {logIn} from \"../actions\";\ninterface IName {\n  first: string;\n  last: string;\n}\n\nexport interface IPerson {\n  id: string;\n  isActive: boolean;\n  age?: number;\n  name: IName;\n  company?: string;\n  email?: string;\n  phone: string;\n  address?: string;\n  registered: string;\n}\ninterface GlobalState {\n    logUser: ILogUser,\n    setPhones: ISetPhones,\n    counter: number,\n}\ninterface ILogUser {\n    isLogged: boolean\n}\ninterface ISetPhones {\n    phones: Array<IPerson>\n}\n\nconst mapStateToProps = (state: any) => ({\n    phones: state.users.users.phones,\n    isLogged: state.logUser.isLogged,\n    form: state.form\n});\n\n\nconst App = ({ phones }: { phones: Array<IPerson> }): React.ReactElement => {\n    const state = useSelector(state => state);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (isInStorage()) {\n            dispatch(logIn())\n        }\n    }, [dispatch])\n\n  return (\n      <>\n        <Switch>\n            <PrivateRoute component={Book} path={ROUTES.main} exact  />\n            <PublicRoute restricted={false} component={Home} path={ROUTES.home} exact />\n            <PublicRoute restricted={true} component={SignIn} path={ROUTES.login} exact />\n          <Redirect path={ROUTES.projectName} to={{pathname: ROUTES.login}} />\n        </Switch>\n      </>\n  );\n};\n\n\n\nexport default connect(mapStateToProps)(App);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './index.css';\nimport App from './containers/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root') as HTMLElement\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}